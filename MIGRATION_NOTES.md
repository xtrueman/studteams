# –ó–∞–º–µ—Ç–∫–∏ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –±—ã–ª —Ä–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞:

```
studteams/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middlewares/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ states/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot_instance.py  # –ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ state_storage.py # –•—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π FSM
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îî‚îÄ‚îÄ myconn.py
‚îú‚îÄ‚îÄ config/
‚îú‚îÄ‚îÄ tests/
‚îî‚îÄ‚îÄ Makefile
```

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å aiogram –Ω–∞ pyTelegramBotAPI

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å ‚Üí –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å**
   - –£–±—Ä–∞–Ω—ã `async def` –∏ `await`
   - –í—Å–µ handlers —Ç–µ–ø–µ—Ä—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ

2. **FSM States**
   - –°–æ–∑–¥–∞–Ω `state_storage.py` –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ –ø–∞–º—è—Ç–∏
   - –í–º–µ—Å—Ç–æ `state: FSMContext` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `state_storage`

3. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è handlers**
   ```python
   # –ë—ã–ª–æ (aiogram):
   dp.message.register(cmd_start, Command("start"))
   
   # –°—Ç–∞–ª–æ (telebot):
   bot.register_message_handler(cmd_start, commands=['start'])
   ```

4. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π**
   ```python
   # –ë—ã–ª–æ:
   await message.answer("text", reply_markup=keyboard)
   
   # –°—Ç–∞–ª–æ:
   bot.send_message(message.chat.id, "text", reply_markup=keyboard)
   ```

5. **–ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã**
   ```python
   # –ë—ã–ª–æ:
   markup = aiogram.types.InlineKeyboardMarkup(inline_keyboard=[[...]])
   
   # –°—Ç–∞–ª–æ:
   markup = telebot.types.InlineKeyboardMarkup()
   markup.row(button1, button2)
   ```

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
# –° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Makefile
make run-bot

# –ù–∞–ø—Ä—è–º—É—é
PYTHONPATH=src ./src/bot/main.py
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
make test
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

```bash
make lint
```

## –°—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

- [x] –†–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Å `src/` –∫–∞—Ç–∞–ª–æ–≥–æ–º
- [x] –ú–∏–≥—Ä–∞—Ü–∏—è —Å aiogram –Ω–∞ pyTelegramBotAPI
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- [x] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ handlers (—É–±—Ä–∞–Ω async/await)
- [x] –°–æ–∑–¥–∞–Ω `state_storage.py` –¥–ª—è FSM
- [x] –°–æ–∑–¥–∞–Ω `bot_instance.py` –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞
- [x] –û–±–Ω–æ–≤–ª–µ–Ω middleware
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã decorators
- [x] –û–±–Ω–æ–≤–ª–µ–Ω—ã `user_states.py` (—É–±—Ä–∞–Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç aiogram)
- [x] –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç (15/15 –ø—Ä–æ—Ö–æ–¥—è—Ç)

### üìù TODO

- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å FSM –ø–æ—Ç–æ–∫–∏ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –æ—Ç—á–µ—Ç—ã, –æ—Ü–µ–Ω–∫–∏)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (myconn_test.py, bot_db_test.py)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å README.md

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **15 —Ç–µ—Å—Ç–æ–≤** –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- **–ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –æ—Ç aiogram**
- **–£–ø—Ä–æ—â–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥
- **–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É**
